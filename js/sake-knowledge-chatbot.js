// æ—¥æœ¬é…’å°‚é–€çŸ¥è­˜ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆ - yodobloom SAKE

class SakeKnowledgeChatbot {
    constructor() {
        this.sakeData = {
            'narutotai-led': {
                name: 'é³´é–€é¯› LEDï¼ˆãƒ¬ãƒƒãƒ‰ï¼‰',
                type: 'ç´”ç±³åŸé†¸',
                description: 'LEDç…§å°„ã«ã‚ˆã‚‹ç‹¬è‡ªé…µæ¯ã§ç”Ÿã¾ã‚ŒãŸãƒ¢ãƒ€ãƒ³ãªå‘³ã‚ã„ã€‚Kura Masterãƒ—ãƒ©ãƒãƒŠè³å—è³ã€‚',
                brewery: 'æœ¬å®¶æ¾æµ¦é…’é€ ãƒ»å¾³å³¶',
                polishingRatio: '58%',
                alcoholContent: '15%',
                sakeMeter: 'âˆ’20',
                acidity: '2.8',
                hasAward: true,
                aroma: 'ã‚Šã‚“ã”ã‚„ãƒˆãƒ­ãƒ”ã‚«ãƒ«ãƒ•ãƒ«ãƒ¼ãƒ„ã®ç”˜é¦™',
                taste: 'ãƒ¨ãƒ¼ã‚°ãƒ«ãƒˆç³»ã®é…¸ã€ãƒªãƒƒãƒãªé…¸å‘³ã¨é‡å±¤çš„ãªæ—¨å‘³',
                temperature: 'ã‚ˆãå†·ã‚„ã—ã¦ï¼ˆ8ã€œ12â„ƒï¼‰',
                pairing: 'å‰èœã€ãƒãƒ¼ã‚ºã€åˆºèº«',
                awards: 'Kura Masterãƒ—ãƒ©ãƒãƒŠè³ã€IWCéŠ€è³ã»ã‹å›½å†…å¤–ã§å—è³æ­´å¤šæ•°ã€‚ANAæ©Ÿå†…é£Ÿæ¡ç”¨ã€‚',
                specialFeature: 'å¾³å³¶çœŒç”£ã€Œã‚ã‚ã„ã¡ã°å±±ç”°éŒ¦ã€100%ã€LEDå¤¢é…µæ¯ï¼ˆ3826 Type2ï¼‰ä½¿ç”¨ã®å…¨å¾³å³¶ä»•è¾¼ã¿'
            },
            'yusei': {
                name: 'ç´”ç±³å¤§åŸé†¸ æ‚ æ˜Ÿï¼ˆã‚†ã†ã›ã„ï¼‰',
                type: 'ç´”ç±³å¤§åŸé†¸',
                description: 'æ˜ŸãŒç¬ãç€¬æˆ¸å†…ã®å¤œã¨å³å³¶ç¥ç¤¾ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ãŸä¸Šå“ãªä¸€æœ¬ã€‚ã‚¸ãƒ¥ãƒ¼ã‚·ãƒ¼ãªãƒ¡ãƒ­ãƒ³é¦™ãŒç‰¹å¾´ã€‚',
                brewery: 'ç™½ç‰¡ä¸¹é…’é€ ãƒ»åºƒå³¶',
                polishingRatio: '50%',
                alcoholContent: '15%',
                sakeMeter: 'ï¼‹0.5',
                acidity: '1.6',
                hasAward: false,
                aroma: 'ã‚¸ãƒ¥ãƒ¼ã‚·ãƒ¼ãªãƒ¡ãƒ­ãƒ³é¦™',
                taste: 'å…«å35å·ã‚‰ã—ã„ã•ã£ã±ã‚Šã¨ã—ãŸå¾Œå£ã®ã‚­ãƒ¬',
                temperature: 'ã‚ˆãå†·ã‚„ã™ã‹å¸¸æ¸©ã§',
                pairing: 'é­šä»‹ã€è±†è…æ–™ç†ã€æ·¡éº—ãªå’Œé£Ÿ',
                specialFeature: 'åºƒå³¶ç”£å…«å35å·ã€åºƒå³¶ä»¤å’Œä¸€å·é…µæ¯ä½¿ç”¨ã€‚æ˜ŸãŒç¬ãç€¬æˆ¸å†…ã®å¤œã¨å³å³¶ç¥ç¤¾ã®å¤§é³¥å±…ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ãŸãƒ©ãƒ™ãƒ«'
            },
            'reiwa-ichigo': {
                name: 'ç´”ç±³å¤§åŸé†¸ ä»¤å’Œä¸€å·é…µæ¯',
                type: 'ç´”ç±³å¤§åŸé†¸',
                description: 'åºƒå³¶çœŒé–‹ç™ºã®ä»¤å’Œä¸€å·é…µæ¯ã§é†¸é€ ã€‚æœå®Ÿæ§˜ã®é¦™ã‚ŠãŒç‰¹å¾´ã®å„ªé›…ãªä»•ä¸ŠãŒã‚Šã€‚',
                brewery: 'ç™½ç‰¡ä¸¹é…’é€ ãƒ»åºƒå³¶',
                polishingRatio: '50%',
                alcoholContent: '15%',
                aroma: 'æŸ”ã‚‰ã‹ãªãƒ¡ãƒ­ãƒ³ã‚„ãƒ©ã‚¤ãƒã‚’æ€ã‚ã›ã‚‹æœå®Ÿé¦™',
                taste: 'ä¸Šå“ãªç”˜ã¿ã¨æ»‘ã‚‰ã‹ãªå£å½“ãŸã‚Š',
                temperature: '10ï½12â„ƒç¨‹åº¦ã«ã‚ˆãå†·ã‚„ã—ã¦',
                pairing: 'ç™½èº«é­šã‚„è²é¡ã®åˆºèº«ã€é…’ç›—ã€æµ…æ¼¬ã‘',
                specialFeature: 'é…’é€ å¥½é©ç±³ã€Œå±±ç”°éŒ¦ã€ã‚’ç²¾ç±³æ­©åˆ50ï¼…ã¾ã§ç£¨ãã€åºƒå³¶çœŒãŒé–‹ç™ºã—ãŸã€Œä»¤å’Œä¸€å·é…µæ¯ã€ã§é†¸é€ '
            },
            'hyakumoku': {
                name: 'ç™¾é»™ ç´”ç±³å¤§åŸé†¸',
                type: 'ç´”ç±³å¤§åŸé†¸',
                description: 'ç‰¹Aåœ°åŒºå±±ç”°éŒ¦ä½¿ç”¨ã€‚æ´‹æ¢¨â†’ãƒ—ãƒ©ãƒ â†’é»„æ¡ƒã¨ç¶šãæœå®Ÿé¦™ãŒé­…åŠ›ã€‚èŠæ­£å®—ã®æŠ€è¡“ãŒå…‰ã‚‹é€¸å“ã€‚',
                brewery: 'èŠæ­£å®—ãƒ»å…µåº«',
                polishingRatio: '59%',
                alcoholContent: '15%',
                aroma: 'æ´‹æ¢¨â†’ãƒ—ãƒ©ãƒ â†’é»„æ¡ƒã¨æŸ”ã‚‰ã‹ãç¶šãæœå®Ÿé¦™',
                taste: 'æ—¨å‘³ã¨é…¸ã®ãƒãƒ©ãƒ³ã‚¹ãŒè‰¯ãã€ç©ã‚„ã‹ã§ã‚­ãƒ¬ã®ã‚ã‚‹å¾Œå£',
                temperature: '8ï½10â„ƒã§ãƒ•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ã«ã€15â„ƒå‰å¾Œã§å‘³ã®åšã¿ãŒå¢—ã™',
                pairing: 'é­šä»‹ã®ã‚«ãƒ«ãƒ‘ãƒƒãƒãƒ§ã€ç™½èº«ã®å¡©ç„¼ãã€ã‚¯ãƒªãƒ¼ãƒ ç³»ãƒ‘ã‚¹ã‚¿',
                specialFeature: 'å…µåº«çœŒä¸‰æœ¨å¸‚å‰å·ç”ºã®ç‰¹Aåœ°åŒºå±±ç”°éŒ¦ã‚’59ï¼…ã¾ã§ç£¨ã„ãŸç´”ç±³å¤§åŸé†¸ã€‚å¥‘ç´„æ ½åŸ¹ç±³ã¨ã€Œå®®æ°´ã€ä½¿ç”¨'
            },
            'hyakumoku-alt3': {
                name: 'ç™¾é»™ Alt.3ï¼ˆã‚ªãƒ«ãƒˆã‚¹ãƒªãƒ¼ï¼‰',
                type: 'ç´”ç±³ãƒ–ãƒ¬ãƒ³ãƒ‰',
                description: 'ã€Œç¬¬ä¸‰ã®é¸æŠã€ã‚’æ„å‘³ã™ã‚‹ç‰¹åˆ¥ãƒ–ãƒ¬ãƒ³ãƒ‰ã€‚ã‚°ãƒ©ãƒ³ã‚¯ãƒªãƒ¥ç´šå±±ç”°éŒ¦ã®è¤‡å±¤çš„ãªå‘³ã‚ã„ã€‚',
                brewery: 'èŠæ­£å®—ãƒ»å…µåº«',
                alcoholContent: '15%',
                aroma: 'è¯ã‚„ã‹ã§ã‚ã‚ŠãªãŒã‚‰ã€ç”˜ã•ãƒ»è‹¦å‘³ãƒ»ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã•ãƒ»ä¸¸ã¿ãŒèåˆ',
                taste: 'è¤‡å±¤çš„ãªå‘³ã€ãƒ–ãƒ¬ãƒ³ãƒ‰ã«ã‚ˆã‚‹å‘³ã®åšã¿ã¨è¤‡é›‘æ€§',
                temperature: 'å†·ã‚„ã—ã‚ï¼ˆ8ï½12â„ƒï¼‰ã§é¦™ã‚Šã¨æœå®Ÿæ„Ÿã€å¸¸æ¸©ï½15â„ƒã§å…¨ä½“ã®ãƒãƒ©ãƒ³ã‚¹',
                pairing: 'ç”Ÿãƒãƒ ã€ãƒŠãƒƒãƒ„ã€ç†Ÿæˆãƒãƒ¼ã‚º',
                specialFeature: 'ç‰¹Aåœ°åŒºå±±ç”°éŒ¦ã«ã‚ˆã‚‹è¤‡æ•°ã®ç´”ç±³åŸé…’ã‚’ã€ç†Ÿç·´ãƒ–ãƒ¬ãƒ³ãƒ€ãƒ¼ãŒãƒ–ãƒ¬ãƒ³ãƒ‰ã—ã¦ä»•ä¸Šã’ãŸé€¸å“'
            },
            'souka': {
                name: 'è¶…ç‰¹æ’° æƒ£èŠ±ï¼ˆãã†ã‹ï¼‰ç´”ç±³å¤§åŸé†¸',
                type: 'ç´”ç±³å¤§åŸé†¸',
                description: 'ç‰¹Aåœ°åŒºã®ä¸Šè³ªãªå±±ç”°éŒ¦ä½¿ç”¨ã€‚æœ¨ç®±å…¥ã‚Šã§è´ˆç­”ã«ã‚‚æœ€é©ãªæœ€é«˜ãƒ©ãƒ³ã‚¯å•†å“ã€‚',
                brewery: 'æ°¸æ¾¤é…’é€ ãƒ»å…µåº«',
                polishingRatio: '50%ä»¥ä¸‹',
                alcoholContent: '15%',
                aroma: 'ç™½æ¡ƒã‚„ãƒã‚¹ã‚«ãƒƒãƒˆã®ä¸Šå“ãªé¦™ã‚Š',
                taste: 'ã‚­ãƒ¬ã®è‰¯ã„é…¸å‘³ãŒã‚ã‚Šã¤ã¤ä¸¸ãç”˜ã„ä½™éŸ»',
                temperature: '8ã€œ12â„ƒã«å†·ã‚„ã—ã¦',
                pairing: 'ã¦ã‚“ã·ã‚‰ã€ãŠé€ ã‚Šã€ç™½èº«é­š',
                specialFeature: 'ç‰¹Aåœ°åŒºã®ä¸Šè³ªãªå±±ç”°éŒ¦ã‚’50%ä»¥ä¸‹ã«ç£¨ã„ã¦ä»•è¾¼ã¿ã€‚æœ¨ç®±å…¥ã‚Šã§è´ˆç­”ã«ã‚‚æœ€é©ã¨ã•ã‚Œã‚‹æœ€é«˜ãƒ©ãƒ³ã‚¯å•†å“'
            },
            'nama': {
                name: 'ç´”ç±³å¤§åŸé†¸ ç”Ÿé…’',
                type: 'ç´”ç±³å¤§åŸé†¸ç”Ÿé…’',
                description: 'é’ãƒªãƒ³ã‚´ãƒ»æ´‹æ¢¨ã®é¦™ã‚Šã€çˆ½ã‚„ã‹ãªç”˜ã•ãŒç‰¹å¾´ã€‚ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ç‘ã€…ã—ã„ç”Ÿé…’ã®é­…åŠ›ã€‚',
                aroma: 'é’ãƒªãƒ³ã‚´ã‚„æ´‹æ¢¨ã‚’å½·å½¿ã¨ã•ã›ã‚‹ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ç‘ã€…ã—ã„é¦™ã‚Š',
                taste: 'æ§ãˆã‚ãªç”˜å‘³ã¨é…¸ã®ãƒãƒ©ãƒ³ã‚¹',
                temperature: 'ã‚„ã‚„ä½æ¸©ã§ã€ç”Ÿé…’ãªã‚‰ã§ã¯ã®çˆ½å¿«ã•ã‚’å¼•ãç«‹ã¦ã¦',
                pairing: 'æ˜¥å¤ã®é­šä»‹ã€ãƒ•ãƒ«ãƒ¼ãƒ„ç³»ãƒ‡ã‚¶ãƒ¼ãƒˆã€å’Œæ´‹æŠ˜è¡·ã®è»½é£Ÿ',
                specialFeature: 'ç«å…¥ã‚Œã‚’è¡Œã‚ãªã„ç”Ÿé…’ãªã‚‰ã§ã¯ã®ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ç‘ã€…ã—ã„é¦™ã‚Šã€‚è¦å†·è”µã§ã®ç®¡ç†ãŒå¿…è¦'
            },
            'ryugagotoku': {
                name: 'é¾ãŒå¦‚ã ç´”ç±³å¤§åŸé†¸ ç„¡æ¿¾éåŸé…’',
                type: 'ç´”ç±³å¤§åŸé†¸ç„¡æ¿¾éåŸé…’',
                description: 'å…¨å›½æ–°é…’é‘‘è©•ä¼šã§æœ€å¤š49å›é‡‘è³ã®åœŸä½é¶´ã€‚ã—ã¼ã‚ŠãŸã¦ã®å‘³ã‚’ãã®ã¾ã¾å°ã˜è¾¼ã‚ãŸåŠ›å¼·ã„ä¸€æœ¬ã€‚',
                brewery: 'åœŸä½é¶´é…’é€ ãƒ»é«˜çŸ¥',
                polishingRatio: '50%ä»¥ä¸‹',
                alcoholContent: '17%',
                hasAward: true,
                aroma: 'éº¹ã®åšã¿ã¨ãŠç±³ã®ç”˜å‘³ãŒè±Šã‹',
                taste: 'ç„¡æ¿¾éãªã‚‰ã§ã¯ã®ãµãã‚‰ã¿ã‚ã‚‹æ—¨å‘³ã«ã€é…¸å‘³ã¨è‹¥å¹²ã®è‹¦å‘³ãŒæ··ã–ã‚Šåšã¿ã‚ã‚‹å‘³ã‚ã„',
                temperature: '12ã€œ15â„ƒã§ã˜ã£ãã‚Šã¨',
                pairing: 'è„‚ã®ã‚ã‚‹åˆºèº«ã‚„ç„¼ãé­šï¼ˆã‚µãƒã€ãƒ–ãƒªï¼‰ã€å‘³å™Œä»•ç«‹ã¦ã®ç…®ç‰©',
                awards: 'å…¨å›½æ–°é…’é‘‘è©•ä¼šã§æœ€å¤š49å›é‡‘è³',
                specialFeature: 'é…’é€ å¥½é©ç±³ã‚’50%ä»¥ä¸‹ã«ç²¾ç±³ã€ç„¡æ¿¾éåŸé…’ã®ãŸã‚åŠ æ°´ãªã—ã€ã—ã¼ã‚ŠãŸã¦ã®å‘³ã‚’ãã®ã¾ã¾å°ã˜è¾¼ã‚'
            },
            'azure': {
                name: 'åŸé†¸é…’ ã‚¢ã‚¸ãƒ¥ãƒ¼ãƒ«',
                type: 'åŸé†¸é…’',
                description: 'é’ã„ãƒœãƒˆãƒ«ãŒç¾ã—ã„è»½ã‚„ã‹ãªãƒ‰ãƒ©ã‚¤æ„Ÿã€‚azureï¼ˆç¾¤é’è‰²ï¼‰ã‚’æ€ã‚ã›ã‚‹çˆ½å¿«ãªå‘³ã‚ã„ã€‚',
                brewery: 'åœŸä½é¶´é…’é€ ãƒ»é«˜çŸ¥',
                alcoholContent: '13%å°',
                aroma: 'azureï¼ˆç¾¤é’è‰²ï¼‰ã‚’æ€ã‚ã›ã‚‹çˆ½å¿«ãªé’ãƒªãƒ³ã‚´ã€ç™½ãƒ–ãƒ‰ã‚¦ã®é¦™ã‚Š',
                taste: 'ã‚¹ãƒƒã‚­ãƒªã¨ã—ãŸä½™éŸ»ã€ã‚·ãƒ£ãƒ¼ãƒ—ãªã‚­ãƒ¬',
                temperature: 'ã—ã£ã‹ã‚Šå†·ã‚„ã—ã¦',
                pairing: 'é­šã®ãƒãƒªãƒã€å¯¿å¸ã€è»½ã„å‰èœã‚„ã‚µãƒ©ãƒ€',
                specialFeature: 'åŸé†¸è¦æ ¼ã€ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦13%å°ã§è»½ã‚„ã‹ãªãƒ‰ãƒ©ã‚¤æ„Ÿã€é’ã„ãƒœãƒˆãƒ«ãŒç‰¹å¾´çš„'
            }
        };

        this.storeInfo = {
            name: 'yodobloom SAKE',
            type: 'æ—¥æœ¬é…’ãƒ†ãƒ¼ãƒãƒ‘ãƒ¼ã‚¯',
            location: 'å¤§é˜ªå¸‚åŒ—åŒºå¤§æ·±ç”º1-1 2éš',
            phone: '06-4802-1010',
            hours: 'å¹³æ—¥ 12:00-22:00 | åœŸæ—¥ç¥æ—¥ 10:00-22:00',
            access: 'JRå¤§é˜ªé§…ã‹ã‚‰å¾’æ­©5åˆ†',
            features: ['å­£ç¯€ã”ã¨ã«å³é¸ã•ã‚ŒãŸ100ç¨®é¡ã®æ—¥æœ¬é…’', 'èªå®šå”é…’å¸«Â®ã‚¬ã‚¤ãƒ‰ä»˜ãè©¦é£²', 'å€‹äººåŒ–ã•ã‚ŒãŸæ—¥æœ¬é…’æ¨è–¦', 'ã‚¢ãƒ—ãƒªãƒ™ãƒ¼ã‚¹ã®é…’ãƒãƒ£ãƒ¬ãƒ³ã‚¸'],
            specialties: 'å”é…’å¸«Â®ãŒä¸€äººä¸€äººã®å¥½ã¿ã«åˆã‚ã›ã¦ã€å€‹äººåŒ–ã•ã‚ŒãŸæ—¥æœ¬é…’æ¨è–¦ä½“é¨“ã‚’æä¾›'
        };

        this.sakeKnowledge = {
            types: {
                'ç´”ç±³å¤§åŸé†¸': 'ç²¾ç±³æ­©åˆ50%ä»¥ä¸‹ã€ç±³ãƒ»ç±³éº¹ãƒ»æ°´ã®ã¿ã§é€ ã‚‰ã‚ŒãŸæœ€é«˜ç´šã®æ—¥æœ¬é…’',
                'ç´”ç±³åŸé†¸': 'ç²¾ç±³æ­©åˆ60%ä»¥ä¸‹ã€ç±³ãƒ»ç±³éº¹ãƒ»æ°´ã®ã¿ã§é€ ã‚‰ã‚ŒãŸé«˜ç´šé…’',
                'åŸé†¸é…’': 'ç²¾ç±³æ­©åˆ60%ä»¥ä¸‹ã€é¦™ã‚ŠãŒé«˜ã„æ—¥æœ¬é…’',
                'ç”Ÿé…’': 'ç«å…¥ã‚Œï¼ˆåŠ ç†±å‡¦ç†ï¼‰ã‚’è¡Œã‚ãªã„ãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãªæ—¥æœ¬é…’',
                'ç„¡æ¿¾éåŸé…’': 'æ¿¾éã¨åŠ æ°´ã‚’è¡Œã‚ãªã„ã€åŠ›å¼·ã„å‘³ã‚ã„ã®æ—¥æœ¬é…’'
            },
            terms: {
                'ç²¾ç±³æ­©åˆ': 'ç„ç±³ã‚’å‰Šã£ã¦æ®‹ã£ãŸéƒ¨åˆ†ã®å‰²åˆã€‚æ•°å­—ãŒå°ã•ã„ã»ã©é«˜ç´š',
                'æ—¥æœ¬é…’åº¦': 'ç”˜è¾›ã®æŒ‡æ¨™ã€‚ãƒã‚¤ãƒŠã‚¹ãŒç”˜å£ã€ãƒ—ãƒ©ã‚¹ãŒè¾›å£',
                'é…¸åº¦': 'é…¸å‘³ã®æŒ‡æ¨™ã€‚æ•°å€¤ãŒé«˜ã„ã»ã©é…¸å‘³ãŒå¼·ã„',
                'å”é…’å¸«': 'æ—¥æœ¬é…’ã®ã‚½ãƒ ãƒªã‚¨ã€‚æ­£ã—ã„çŸ¥è­˜ã¨æŠ€èƒ½ã‚’æŒã¤å°‚é–€å®¶',
                'å±±ç”°éŒ¦': 'é…’ç±³ã®ç‹æ§˜ã¨å‘¼ã°ã‚Œã‚‹æœ€é«˜ç´šã®é…’é€ å¥½é©ç±³',
                'å®®æ°´': 'å…µåº«çœŒè¥¿å®®å¸‚ã®åæ°´ã€‚ç˜ã®é…’é€ ã‚Šã«æ¬ ã‹ã›ãªã„ç¡¬æ°´'
            },
            breweries: {
                'æœ¬å®¶æ¾æµ¦é…’é€ ': 'å¾³å³¶çœŒã®è”µå…ƒã€‚LEDæŠ€è¡“ã‚’æ´»ç”¨ã—ãŸé©æ–°çš„ãªé…’é€ ã‚Šã§ä¸–ç•Œçš„è©•ä¾¡',
                'ç™½ç‰¡ä¸¹é…’é€ ': 'åºƒå³¶çœŒã®è€èˆ—è”µå…ƒã€‚ç€¬æˆ¸å†…ã®è‡ªç„¶ç’°å¢ƒã‚’æ´»ã‹ã—ãŸé…’é€ ã‚Š',
                'èŠæ­£å®—': 'æ±Ÿæˆ¸æ™‚ä»£ã‹ã‚‰ç¶šãè€èˆ—è”µå…ƒã€‚ä¼çµ±ã¨é©æ–°ã‚’èåˆ',
                'æ°¸æ¾¤é…’é€ ': 'å…µåº«çœŒã®è”µå…ƒã€‚ç‰¹Aåœ°åŒºå±±ç”°éŒ¦ã«ã“ã ã‚ã£ãŸé«˜å“è³ªãªé…’é€ ã‚Š',
                'åœŸä½é¶´é…’é€ ': 'é«˜çŸ¥çœŒã®åé–€è”µå…ƒã€‚å…¨å›½æ–°é…’é‘‘è©•ä¼šã§æœ€å¤š49å›ã®é‡‘è³å—è³'
            }
        };
    }

    generateResponse(message) {
        const lowerMessage = message.toLowerCase();
        
        // å•†å“åã§ã®æ¤œç´¢
        for (const [id, sake] of Object.entries(this.sakeData)) {
            if (message.includes(sake.name) || message.includes(sake.name.replace(/\s+/g, ''))) {
                return this.getSakeDetailResponse(sake);
            }
        }

        // æ—¥æœ¬é…’ã®ç¨®é¡ã§ã®æ¤œç´¢
        for (const [type, description] of Object.entries(this.sakeKnowledge.types)) {
            if (message.includes(type)) {
                const examples = Object.values(this.sakeData).filter(sake => sake.type.includes(type));
                return `ğŸ¶ ${type}ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ï¼š\n\n${description}\n\nå½“åº—ã§ã¯${examples.length}ç¨®é¡ã®${type}ã‚’ã”ç”¨æ„ã—ã¦ã„ã¾ã™ï¼š\n${examples.map(sake => `ãƒ»${sake.name}ï¼ˆ${sake.brewery}ï¼‰`).join('\n')}`;
            }
        }

        // è”µå…ƒã§ã®æ¤œç´¢
        for (const [brewery, info] of Object.entries(this.sakeKnowledge.breweries)) {
            if (message.includes(brewery.replace('ãƒ»', '')) || message.includes(brewery)) {
                const examples = Object.values(this.sakeData).filter(sake => sake.brewery && sake.brewery.includes(brewery.split('ãƒ»')[0]));
                return `ğŸ­ ${brewery}ã«ã¤ã„ã¦ï¼š\n\n${info}\n\nå½“åº—ã®å–ã‚Šæ‰±ã„å•†å“ï¼š\n${examples.map(sake => `ãƒ»${sake.name}`).join('\n')}`;
            }
        }

        // å°‚é–€ç”¨èªã®èª¬æ˜
        for (const [term, explanation] of Object.entries(this.sakeKnowledge.terms)) {
            if (message.includes(term)) {
                return `ğŸ“š ${term}ã«ã¤ã„ã¦ï¼š\n\n${explanation}\n\nå½“åº—ã§ã¯å”é…’å¸«Â®ãŒè©³ã—ãèª¬æ˜ã„ãŸã—ã¾ã™ã€‚ãœã²ã”æ¥åº—ãã ã•ã„ï¼`;
            }
        }

        // æ¸©åº¦ã‚„é£²ã¿æ–¹ã«é–¢ã™ã‚‹è³ªå•
        if (message.includes('æ¸©åº¦') || message.includes('é£²ã¿æ–¹') || message.includes('å†·ã‚„')) {
            return this.getTemperatureAdvice();
        }

        // ãƒšã‚¢ãƒªãƒ³ã‚°ãƒ»æ–™ç†ã®ç›¸æ€§
        if (message.includes('æ–™ç†') || message.includes('ãƒšã‚¢ãƒªãƒ³ã‚°') || message.includes('åˆã†') || message.includes('ç›¸æ€§')) {
            return this.getPairingAdvice();
        }

        // ãŠã™ã™ã‚
        if (message.includes('ãŠã™ã™ã‚') || message.includes('ã‚ªã‚¹ã‚¹ãƒ¡') || message.includes('æ¨è–¦')) {
            return this.getRecommendations();
        }

        // å—è³æ­´
        if (message.includes('å—è³') || message.includes('è³') || message.includes('é‡‘è³')) {
            return this.getAwardInfo();
        }

        // åº—èˆ—æƒ…å ±
        if (message.includes('åº—èˆ—') || message.includes('å ´æ‰€') || message.includes('å–¶æ¥­') || message.includes('æ™‚é–“')) {
            return this.getStoreInfo();
        }

        // äºˆç´„ãƒ»é€£çµ¡
        if (message.includes('äºˆç´„') || message.includes('é›»è©±') || message.includes('é€£çµ¡')) {
            return `ğŸ“ ã”äºˆç´„ãƒ»ãŠå•ã„åˆã‚ã›ï¼š\n\né›»è©±ï¼š${this.storeInfo.phone}\nå–¶æ¥­æ™‚é–“ï¼š${this.storeInfo.hours}\n\nå½“æ—¥ã®ã”æ¥åº—ã‚‚å¯èƒ½ã§ã™ãŒã€äº‹å‰äºˆç´„ã‚’ãŠã™ã™ã‚ã—ã¾ã™ğŸŒ¸`;
        }

        // å”é…’å¸«ã«ã¤ã„ã¦
        if (message.includes('å”é…’å¸«') || message.includes('ã‚¬ã‚¤ãƒ‰') || message.includes('ã‚½ãƒ ãƒªã‚¨')) {
            return `ğŸŒ¸ å”é…’å¸«Â®ã«ã¤ã„ã¦ï¼š\n\n${this.storeInfo.specialties}\n\nå”é…’å¸«Â®ã¯æ—¥æœ¬é…’ã®æ­£ã—ã„çŸ¥è­˜ã¨æŠ€èƒ½ã‚’æŒã¤å°‚é–€å®¶ã§ã™ã€‚ãŠå®¢æ§˜ã®å¥½ã¿ã‚’ä¸å¯§ã«ãŠèãã—ã¦ã€æœ€é©ãªä¸€æœ¬ã‚’ã”ææ¡ˆã„ãŸã—ã¾ã™ã€‚`;
        }

        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¿œç­”
        return this.getDefaultResponse();
    }

    getSakeDetailResponse(sake) {
        return `ğŸ¶ ${sake.name}ã«ã¤ã„ã¦è©³ã—ãã”èª¬æ˜ã—ã¾ã™ï¼š

ã€åŸºæœ¬æƒ…å ±ã€‘
ãƒ»ç¨®é¡ï¼š${sake.type}
ãƒ»è”µå…ƒï¼š${sake.brewery}
ãƒ»ã‚¢ãƒ«ã‚³ãƒ¼ãƒ«åº¦æ•°ï¼š${sake.alcoholContent}
${sake.polishingRatio ? `ãƒ»ç²¾ç±³æ­©åˆï¼š${sake.polishingRatio}` : ''}

ã€å‘³ã‚ã„ã®ç‰¹å¾´ã€‘
ãƒ»é¦™ã‚Šï¼š${sake.aroma}
ãƒ»å‘³ã‚ã„ï¼š${sake.taste}
ãƒ»ãŠã™ã™ã‚æ¸©åº¦ï¼š${sake.temperature}

ã€ç›¸æ€§ã®è‰¯ã„æ–™ç†ã€‘
${sake.pairing}

${sake.awards ? `ã€å—è³æ­´ã€‘\n${sake.awards}` : ''}

ã€ç‰¹å¾´ã€‘
${sake.specialFeature}

ãœã²å½“åº—ã§å®Ÿéš›ã«ãŠè©¦ã—ãã ã•ã„ğŸŒ¸`;
    }

    getTemperatureAdvice() {
        return `ğŸŒ¡ï¸ æ—¥æœ¬é…’ã®æ¸©åº¦ã«ã‚ˆã‚‹å‘³ã‚ã„ã®å¤‰åŒ–ï¼š

ã€å†·é…’ï¼ˆ8-12â„ƒï¼‰ã€‘
ãƒ»ãƒ•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ãªé¦™ã‚ŠãŒéš›ç«‹ã¤
ãƒ»ã™ã£ãã‚Šã¨ã—ãŸã‚­ãƒ¬
ãƒ»ãŠã™ã™ã‚ï¼šç´”ç±³å¤§åŸé†¸ã€åŸé†¸é…’

ã€å¸¸æ¸©ï¼ˆ15-20â„ƒï¼‰ã€‘
ãƒ»ç±³ã®æ—¨å‘³ãŒã—ã£ã‹ã‚Šæ„Ÿã˜ã‚‰ã‚Œã‚‹
ãƒ»ãƒãƒ©ãƒ³ã‚¹ã®è‰¯ã„å‘³ã‚ã„
ãƒ»ãŠã™ã™ã‚ï¼šç´”ç±³é…’ã€æœ¬é†¸é€ 

ã€ç‡—é…’ï¼ˆ40-50â„ƒï¼‰ã€‘
ãƒ»æ·±ã„æ—¨å‘³ã¨è±Šã‹ãªé¦™ã‚Š
ãƒ»ä½“ãŒæ¸©ã¾ã‚‹
ãƒ»ãŠã™ã™ã‚ï¼šç´”ç±³é…’ã€ç”Ÿé…›ç³»

å½“åº—ã§ã¯å”é…’å¸«Â®ãŒæœ€é©ãªæ¸©åº¦ã§ã”æä¾›ã„ãŸã—ã¾ã™ï¼`;
    }

    getPairingAdvice() {
        return `ğŸ½ï¸ æ—¥æœ¬é…’ã¨æ–™ç†ã®ç›¸æ€§ï¼š

ã€æ·¡éº—ãªæ—¥æœ¬é…’ã€‘
ãƒ»åˆºèº«ã€å¯¿å¸ã€ç™½èº«é­š
ãƒ»ã‚ã£ã•ã‚Šã¨ã—ãŸå’Œé£Ÿ
ãƒ»ä¾‹ï¼šæ‚ æ˜Ÿã€ã‚¢ã‚¸ãƒ¥ãƒ¼ãƒ«

ã€æ¿ƒé†‡ãªæ—¥æœ¬é…’ã€‘
ãƒ»ç„¼ãé­šã€å¤©ã·ã‚‰ã€è‚‰æ–™ç†
ãƒ»ã—ã£ã‹ã‚Šã—ãŸå‘³ä»˜ã‘ã®æ–™ç†
ãƒ»ä¾‹ï¼šé¾ãŒå¦‚ãã€ç™¾é»™ Alt.3

ã€ãƒ•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ãªæ—¥æœ¬é…’ã€‘
ãƒ»ãƒãƒ¼ã‚ºã€ãƒ•ãƒ«ãƒ¼ãƒ„
ãƒ»æ´‹é£Ÿã‚„ãƒ‡ã‚¶ãƒ¼ãƒˆ
ãƒ»ä¾‹ï¼šé³´é–€é¯›LEDã€ä»¤å’Œä¸€å·é…µæ¯

å”é…’å¸«Â®ãŒãŠæ–™ç†ã«åˆã‚ã›ã¦æœ€é©ãªä¸€æœ¬ã‚’ã”ææ¡ˆã—ã¾ã™ğŸŒ¸`;
    }

    getRecommendations() {
        const recommendations = [
            'ğŸ† å—è³æ­´ã®ã‚ã‚‹é€¸å“ï¼šé³´é–€é¯› LEDï¼ˆKura Masterãƒ—ãƒ©ãƒãƒŠè³ï¼‰',
            'ğŸŒ¸ åˆå¿ƒè€…ã«ãŠã™ã™ã‚ï¼šæ‚ æ˜Ÿï¼ˆä¸Šå“ã§é£²ã¿ã‚„ã™ã„ï¼‰',
            'ğŸƒ å¤ã«ãŠã™ã™ã‚ï¼šã‚¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆçˆ½ã‚„ã‹ãªå‘³ã‚ã„ï¼‰',
            'ğŸ è´ˆç­”ç”¨ã«ãŠã™ã™ã‚ï¼šæƒ£èŠ±ï¼ˆæœ¨ç®±å…¥ã‚Šæœ€é«˜ç´šå“ï¼‰',
            'ğŸ’ª æ—¥æœ¬é…’å¥½ãã«ãŠã™ã™ã‚ï¼šé¾ãŒå¦‚ãï¼ˆç„¡æ¿¾éåŸé…’ã®åŠ›å¼·ã•ï¼‰'
        ];

        return `âœ¨ yodobloom SAKEã®ãŠã™ã™ã‚ï¼š\n\n${recommendations.join('\n\n')}\n\nå”é…’å¸«Â®ãŒãŠå®¢æ§˜ã®å¥½ã¿ã«åˆã‚ã›ã¦ã€ã•ã‚‰ã«è©³ã—ãã”ææ¡ˆã„ãŸã—ã¾ã™ï¼`;
    }

    getAwardInfo() {
        const awardSakes = Object.values(this.sakeData).filter(sake => sake.hasAward);
        
        return `ğŸ† å—è³æ­´ã®ã‚ã‚‹éŠ˜æŸ„ï¼š\n\n${awardSakes.map(sake => 
            `ãƒ»${sake.name}\n  ${sake.awards || 'å›½å†…å¤–ã§é«˜ã„è©•ä¾¡'}`
        ).join('\n\n')}\n\nå“è³ªã®é«˜ã•ãŒä¸–ç•Œçš„ã«èªã‚ã‚‰ã‚ŒãŸé€¸å“ã§ã™ğŸŒ¸`;
    }

    getStoreInfo() {
        return `ğŸª ${this.storeInfo.name}ã«ã¤ã„ã¦ï¼š\n\nğŸ“ æ‰€åœ¨åœ°ï¼š${this.storeInfo.location}\nâ° å–¶æ¥­æ™‚é–“ï¼š${this.storeInfo.hours}\nğŸš¶ ã‚¢ã‚¯ã‚»ã‚¹ï¼š${this.storeInfo.access}\nğŸ“ ãŠé›»è©±ï¼š${this.storeInfo.phone}\n\nã€ç‰¹å¾´ã€‘\n${this.storeInfo.features.map(feature => `ãƒ»${feature}`).join('\n')}\n\n${this.storeInfo.specialties}`;
    }

    getDefaultResponse() {
        return `ğŸŒ¸ yodobloom SAKE AIã‚µãƒãƒ¼ãƒˆã§ã™ï¼\n\nä»¥ä¸‹ã«ã¤ã„ã¦ãŠç­”ãˆã§ãã¾ã™ï¼š\nãƒ»æ—¥æœ¬é…’ã®éŠ˜æŸ„è©³ç´°ï¼ˆ${Object.keys(this.sakeData).length}ç¨®é¡ï¼‰\nãƒ»æ—¥æœ¬é…’ã®ç¨®é¡ã‚„å°‚é–€ç”¨èª\nãƒ»è”µå…ƒã®æƒ…å ±\nãƒ»ãŠã™ã™ã‚ã®é£²ã¿æ–¹\nãƒ»æ–™ç†ã¨ã®ç›¸æ€§\nãƒ»åº—èˆ—æƒ…å ±\n\nãŠæ°—è»½ã«ãŠèããã ã•ã„ğŸ¶`;
    }
}

// æ—¢å­˜ã®EnhancedChatbotã‚¯ãƒ©ã‚¹ã‚’æ‹¡å¼µ
if (typeof EnhancedChatbot !== 'undefined') {
    const originalGenerateResponse = EnhancedChatbot.prototype.generateResponse;
    
    EnhancedChatbot.prototype.generateResponse = function(message) {
        // SakeKnowledgeChatbotã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆ
        if (!this.sakeKnowledge) {
            this.sakeKnowledge = new SakeKnowledgeChatbot();
        }
        
        // æ—¥æœ¬é…’å°‚é–€çŸ¥è­˜ã§å¿œç­”ã‚’è©¦è¡Œ
        const sakeResponse = this.sakeKnowledge.generateResponse(message);
        
        // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¿œç­”ã§ãªã„å ´åˆã¯ã€å°‚é–€çŸ¥è­˜ã®å¿œç­”ã‚’è¿”ã™
        if (!sakeResponse.includes('ãŠæ°—è»½ã«ãŠèããã ã•ã„')) {
            return sakeResponse;
        }
        
        // å¾“æ¥ã®å¿œç­”ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
        return originalGenerateResponse.call(this, message);
    };
}

console.log('âœ… Sake Knowledge Chatbot loaded with comprehensive sake database');